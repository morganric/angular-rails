<div class="row">
<div class="span8">
<ul >
	<li ng-repeat="post in posts | filter:query | orderBy:orderProp">
	  <a href="/posts/{{ post.id }}" ><img src="{{post.thumbnail_url}}" class="pull-left" height="100" width="100px" style="padding-right:20px;" /></a>
	  <h2>
	  	<%= link_to "{{post.title }}", "/posts/{{ post.id }}" %> 
	  </h2>
	  <p>{{ post.description }}</p>
	  <span class="label label-warning">
	  	<i class="icon-white icon-arrow-down"></i> 
	  	{{post.views}}
	  </span>
	  <span class="label label-info">
	  	<i class="icon-white icon-eye-open"></i>
	  	{{post.total}}
	  </span>
	  <span class="label label-success">
	  	<i class="icon-white icon-arrow-up"></i>
	  	{{post.increases}}
	  </span>
	  <span class="label label-twitter">
	  	<i class="icon-white icon-twitter"></i>
	  	{{post.tweets}}
	  </span>	
	</li>
</ul>
</div>
<div class="span4">
<label>Sort by:</label>
<select ng-model="orderProp">
  <option value="title">Alphabetical</option>
  <option value="-views" selected="selected">Views Remaining</option>
  <!-- <option value="-total" selected="selected">Total Views</option> -->
</select>


</div>
</div>

<script type="text/javascript">

var app = angular.module('Posts', []);

app.controller("PostsCtrl", this.PostsCtrl = function($scope, $http) {
  return $http.get('/posts.json').success(function(data) {
    return $scope.posts = data;
  });
  // $scope.orderProp = 'title';
});

</script>
